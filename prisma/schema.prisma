generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["debian-openssl-1.1.x"]
  engineType    = "binary"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  createdAt DateTime @default(now()) @map("created_at")

  @@map("user")
}

model MovieCategory {
  id      Int  @id @default(autoincrement())
  name    String @unique
  details String?
  movies  Movie[]

  @@map("movie_category")
}

model Movie {
  id            String           @id @default(uuid())
  name          String
  details       String?
  driveUrl      String @unique       @map("drive_url")
  imageUrl      String @unique       @map("image_url")
  createdAt     DateTime      @default(now()) @map("created_at")
  slug          String @unique
  categoryId    Int
  movieCategory MovieCategory @relation(fields: [categoryId], references: [id])

  @@index([name], map: "film_name_index")
  @@map("movies")
}
